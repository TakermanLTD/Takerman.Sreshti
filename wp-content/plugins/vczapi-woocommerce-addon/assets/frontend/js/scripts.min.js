"use strict";jQuery(function(c){({init:function(){this.cacheDOM(),this.listeners()},cacheDOM:function(){this.$recordingsTable=c(".vczapi-woocommerce-recordings-datatable"),this.$clearRecordingsCache=c(".vczapi-woocommerce-clear-recordings-cache")},listeners:function(){c(document).on("click",".vczapi-wc-view-recording",this.viewRecordingModal.bind(this)),c(document).on("click",".vczapi-modal-close",this.recordingsCloseModal.bind(this)),this.$clearRecordingsCache.on("click",this.clearCache.bind(this)),this.$recordingsTable.dataTable({ajax:{url:vczapi_wc_addon.ajaxurl+"?action=get_author_recordings"},responsive:!0,columns:[{data:"title"},{data:"start_date"},{data:"meeting_id"},{data:"total_size"},{data:"view_recording"}],order:[[2,"desc"]]})},clearCache:function(a){a.preventDefault();c(".vczapi-modal").html('<p class="vczapi-modal-loader">'+vczapi_wc_addon.loading+"</p>").show(),c.post(vczapi_wc_addon.ajaxurl,{action:"clear_purchased_recording_cache"}).done(function(a){c(".vczapi-modal-content").remove(),c(".vczapi-modal").hide(),location.reload()})},viewRecordingModal:function(a){a.preventDefault();a={recording_id:c(a.currentTarget).data("recording-id"),action:"get_recording",downlable:c(a.currentTarget).data("downloadable")};c(".vczapi-modal").html('<p class="vczapi-modal-loader">'+vczapi_wc_addon.loading+"</p>").show(),c.get(vczapi_wc_addon.ajaxurl,a).done(function(a){c(".vczapi-modal").html(a.data).show()})},recordingsCloseModal:function(a){a.preventDefault(),c(".vczapi-modal-content").remove(),c(".vczapi-modal").hide()}}).init()});